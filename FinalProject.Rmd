---
title: "FinalProject"
author: "Nicholas Stout"
date: "November 30, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
ks_data = read.csv("ks-projects-201801.csv")
```
#Authors
Nicholas Stout, Daniel Tacconi, Issac Nellans

#Proposal
We would like to explore this data to find what effects if a Kickstarter succeeds, looking at amount of time to pledge, the goal amount, and how it is effected by the category.

#Marginal Distributions
First, correction of the date/time variable Launched:
```{r}
ks_data = ks_data %>% separate(launched, into=c("launch_date", "launch_time"), sep = " ")# %>% mutate(launch_date = ymd(launch_date), deadline = ymd(deadline), ID = as.factor(ID))
```
##"category"
##"main_category"    
##"currency"         
##deadline       
##goal
##launch_date
##launch_time    
##pledged
##state
##backers        
##country
###Nic Stout
Prediction: I expect most of these to be in the US, by a wide margin
```{r}
summary(ks_data$country)
ks_data %>% ggplot(aes(x=country))+geom_bar()
```

my prediction was correct!

##usd.pledged
###Nic Stout
Prediction: I expect the median to be around 5000, but the mean to be much closer lower than the goal, maybe around 5000 as well. I'm sure the max is a wildly large number that I can't guess of the top of my head.
```{r}
summary(ks_data$usd.pledged)
```

The graph starts starts high and Interestingly, there were some na values, and I was pretty far off. I was right about the max. I did not take into account that the mean would be skewed by the massive high end of this variable.

```{r}
ks_data %>% filter(usd.pledged <= 100000) %>% ggplot(aes(x=usd.pledged))+geom_histogram(binwidth=1000)
```

A vast majority of the amount pledged per kickstarter is less than 1000. This is interesting, as I was expecting it to be more in the few thousands. I am wondering if the amount with none pledged is throwing it off
```{r}
ks_data %>% filter(usd.pledged <= 100000 & usd.pledged > 0) %>% ggplot(aes(x=usd.pledged))+geom_histogram(binwidth=1000)
```

It changed a bit, but still mostly in the < 1000 dollar range. Interesting!

```{r}
ks_data %>% filter(usd.pledged <= 100000 & usd.pledged > 0) %>% ggplot(aes(x=usd.pledged))+geom_density()
mode(ks_data$usd.pledged)
```

This dataset is best describeds as a pareto distribution, as there are far more with a small amount pleged than a large amount. The density graph provided here shows this quite well

##usd_pledged_real
###Nic Stout
Prediction: I expect usd.pledged and usd_pleged_real to be very similar, considering it is the same data with two different conversions.
```{r}
summary(ks_data$usd_pledged_real)
```

That was more different than I was expecting! nearly double on most of the data
```{r}
ks_data %>% filter(usd.pledged <= 100000 & usd.pledged > 0) %>% ggplot(aes(x=usd.pledged))+geom_histogram(binwidth=1000)
```

Very similar histograms so I expect the difference is just due to different conversion rates.

##usd_goal_real
###Nic Stout
prediction: I expect the data to fall between 100 and 100,000, median around 5000, and mean around 25000. I expect to data to be mostly in the < 100000 range
```{r}
summary(ks_data$usd_goal_real)
```
```{r}
ks_data %>% filter(usd_goal_real < 100000) %>% ggplot(aes(x=usd_goal_real))+geom_histogram(binwidth=1000)
```

Ignoring the very large outliers for the sake of visibity, my prediction was fairly close. a distribution with spikes on round numbers (25000, 50000, etc). I was fairly close on the median, but way off on the mean. I did not realize how many values above 1,000,000 there were.

```{}
ks_data %>% filter(usd_goal_real < 100000) %>% ggplot(aes(x=usd_goal_real))+geom_density()
```

##category
##Isaac Nellans
prediction: I expect that the categories will be relatively evenly distributed
```{r}
summary(ks_data$category)
ks_data%>%ggplot(aes(category)) + geom_bar(aes()) + coord_flip()
```
There are so many categories, it is hard to distinguish each one on the graph. To resolve this issue, one thing we could do is combine some of them into larger categories, however, there is already a variable in the dataset that does that, main category. This is very convenient, and there is not much more we can do with this graph. We can determine the max and min by using the function summary, which lists the variables in descending order by count. The largest category is Product Design, with the smallest being 3D Printing.

##main category
##Isaac Nellans
prediction: The categories should be fairly evenly dustributed, I expect film and music to be the two largest categories
```{r}
summary(ks_data$main_category)
ks_data%>%ggplot(aes(main_category)) + geom_bar(aes()) + theme(axis.text.x = element_text(angle=45,vjust=1, hjust=1))
```
The barchart shows that film & video and music are indeed the largest two categories, however there is much more fluctuation between the other categories than I expected. It makes sense that film and music are the two highest categories, as it is less time consuming to write and produce a song or film than coming up with something for another category. For example, for the majority of people it would most likely take less time to produce a new song than it would to think of a creative idea for a new restaurant and create a coordinating business plan. It is surprising to me that there are so few dance kickstarters, as dance and music seem to go hand-in-hand.

##currency
##Isaac Nellans
prediction: I assume that most of these will be using the US dollar as currency, with quite a few of the remaining kickstarters using the euro.
```{r}
summary(ks_data$currency)
ks_data%>%ggplot(aes(currency)) + geom_bar(aes()) + coord_flip()
```
This distribution is about what I expected, as most use USD, with the second most being the pound, and a respectable number using the euro, Canadian dollar, and the Australian dollar. Outside of those top 5 currencies, there are not a lot of kickstarters that use any other specific currency.


##Backers
###Dan Tacconi
prediction: I expect there to be a very large range of backers because of the large variance in popularity and size of projects
```{r}

summary(ks_data$backers)

ks_data %>% filter(backers <=100, ) %>%
  ggplot(aes(x=backers))+geom_histogram(binwidth=1)

ks_data %>% filter(backers >100, backers<2000) %>%
  ggplot(aes(x=backers))+geom_histogram(binwidth=1)



```

My prediction of a large range was correct as you can see in the summary. I would be interested to see a summary ommiting projects with no backers. The majority of backers seem to be between zero and 100 but they go well over 200,000.

##State
###Dan Tacconi
prediction: I expect the majority of projects to be failed or canceled
```{r}
ks_data %>% ggplot(aes(x=state))+geom_bar()
```
My prediction was correct-most projects failed and a large portion were canceled but more projects succeeded than I expected.

##Goal
###Dan Tacconi
prediction: like number of backers, I expect the goal amount to be varied and be a large range of numbers because of the variety of different projects on kickstarter
```{r}
summary(ks_data$goal)

ks_data %>% filter(goal<25000) %>%
  ggplot(aes(x=goal))+geom_histogram()
```


#Expanding complexity
goal vs success
    by catagory
##Nic
```{r}

ks_data %>% group_by(state) %>% summarize(mGoal = mean(goal)) %>% ggplot(aes(x=state, y=mGoal))+geom_bar(stat="identity")
```

It appears that cancelled failed and currently running kickstarters are roughly equal. Successful kickstarters are very low. I assume due to a lot of low goal projects being funded. The mean of suspened projects, ones that broke the rules or were scams, is very high, and that's funny.

```{r}
ks_data %>% ggplot(aes(y=goal, x= state))+geom_boxplot()
```
Interestingly, the successful kickstarters are much, much less spread out than the rest. This would lead to a lower average goal.

```{r}
spread(ks_data, key=state, value = goal) %>% select(c(canceled, failed, live, successful, suspended, undefined)) %>% summary()
```

It seems to have a successful kickstarter, keep it around 10,000, no more than 2,000,000

time elapsed vs success
    by category
##Nic
```{r}
ks_data %>% mutate(time_elapsed = ymd(deadline)-ymd(launch_date)) %>% ggplot(aes(x=state, y=as.numeric(time_elapsed)))+geom_boxplot()+ ylim(0,100)
ks_data %>% mutate(time_elapsed = ymd(deadline)-ymd(launch_date)) %>% group_by(state) %>% summarize(mTime = mean(as.numeric(time_elapsed))) %>% ggplot(aes(x=state, y=mTime))+geom_bar(stat="identity")
```

successful kickstarters have slightly shorter deadlines on average, but I don't believe it is enough of a difference to actually be significant.

goal vs pledged
    by catagory
##Issac

backs vs pledge
    by country
##Issac

    
pledge/backer vs goal
    by catagory
##Dan
```{r}

as.double(ks_data$backers)

ave_pledge<-ks_data$pledged/ks_data$backers

ks_data %>% ggplot(aes(y=ave_pledge, x=main_category))+geom_boxplot()

```

The average amount of donation is highest for Design kickstarter projects and lowest for 

success vs catagory
    by country
##Dan

 %>%
```{r}
ks_data %>% ggplot(aes(x=state))+geom_bar()+facet_grid(cols = vars(main_category=="Art"))



```

